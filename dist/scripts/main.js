"use strict";var weathers={CLEAR:"Clear",RAIN:"Rain",CLOUDS:"Clouds"},weatherImg={CLEAR:"./img/icons/clear-day.png",RAIN:"./img/icons/rainy-day.png",CLOUDS:"./img/icons/mostly-cloudy.png"},weekDays={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},weatherMessage={Clear:"should enjoy your day outdoors!",Rain:"If you go out, you should take an umbrella or stay in home",Clouds:"should wear a coat to keep warm"},predictions={3:{},6:{},9:{}};$(function(){var e=new Date,a=weekDays[e.getDay()];$.get("http://35.190.138.158:5002/predictions?city=asd&steps=3",function(e){storeData(e.predictions),putCurrentData(e.current,e.temp,a),initAnimation()}),$(".js-submit").on("click",showPrediction),$(".js-close-modal").on("click",function(){$(".js-prediction-modal").removeClass("is-active"),location.reload()})});var showPrediction=function(){var e=$(".js-step-select").val(),a=$(".js-name").val(),t=predictions[e],i={value:0};for(var n in t)t[n]>i.value&&(i={value:t[n],weather:n});var s=chooseWeatherImg(i.weather),o=i.value.toFixed(2),r=a+" "+weatherMessage[i.weather]+", the weather would be "+i.weather+" with a probability of "+o;$(".js-prediction-title").text("Prediction to "+e+" hours"),$(".js-prediction-image").css("background-image","url("+s+")"),$(".js-prediction-description").text(r),$(".js-prediction-modal").addClass("is-active"),predictionAnimation()},storeData=function(e){predictions[3]=e[0],predictions[6]=e[1],predictions[9]=e[2]},chooseWeatherImg=function(e){var a=void 0;switch(e){case weathers.CLEAR:a=weatherImg.CLEAR;break;case weathers.RAIN:a=weatherImg.RAIN;break;case weathers.CLOUDS:a=weatherImg.CLOUDS}return a},putCurrentData=function(e,a,t){var i=e.toString(),n=chooseWeatherImg(i);$(".js-main-panel-title").text(t),$(".js-number").text(a),$(".js-main-panel-image").css("background-image","url("+n+")")},predictionAnimation=function(){anime.timeline().add({targets:".js-prediction-title",translateY:75,opacity:{value:1,delay:550,duration:200},easing:"easeInSine"}).add({targets:".js-main-panel .js-prediction-image",height:175,width:175,delay:500,easing:"easeOutExpo"}).add({targets:".js-prediction-subtitle",translateY:10,opacity:{value:1},offset:"1100",easing:"easeInSine"}).add({targets:".js-prediction-description",translateX:{value:"120px",easing:"easeInSine",delay:700},opacity:{value:"1",delay:1400,easing:"easeOutBack"},offset:"800"})},initAnimation=function(){anime.timeline().add({targets:".js-main-panel .js-main-panel-title",translateY:75,opacity:{value:1,delay:550,duration:200},easing:"easeInSine"}).add({targets:".js-info-panel",translateX:{value:-$(".js-info-panel").width()},opacity:{value:1,delay:300},offset:"0",easing:"easeInSine"}),anime.timeline().add({targets:".js-main-panel .js-main-panel-image",height:175,width:175,delay:"1400",easing:"easeOutExpo"}).add({targets:".js-main-panel-subtitle",translateY:10,opacity:{value:1},offset:"1500",easing:"easeInSine"}).add({targets:".js-main-panel-tmp",translateX:{value:"120px",easing:"easeInSine"},opacity:{value:"1",delay:700,easing:"easeOutBack"},offset:"1500"})};